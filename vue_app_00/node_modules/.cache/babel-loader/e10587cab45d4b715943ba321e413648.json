{"remainingRequest":"c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\src\\components\\ShoppCar.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\src\\components\\ShoppCar.vue","mtime":1545914891130},{"path":"c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\web\\Desktop\\vue版项目二\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      checked: false,\n      pro_list: [],\n      pro_sum: 0,\n      pro_counts: 0,\n      hot_list: [{\n        src: 'http://127.0.0.1:3000/img/product/hot_1.jpg',\n        name: 'Velour rouge',\n        price: '2磅/298RMB'\n      }, {\n        src: 'http://127.0.0.1:3000/img/product/hot_2.jpg',\n        name: 'Napoléon aux fraises',\n        price: '2磅/318RMB'\n      }, {\n        src: 'http://127.0.0.1:3000/img/product/hot_3.jpg',\n        name: 'lapin détendu',\n        price: '2.5磅/318RMB'\n      }, {\n        src: 'http://127.0.0.1:3000/img/product/hot_4.jpg',\n        name: 'Voyage de Daisy',\n        price: '2.5磅/318RMB'\n      }, {\n        src: 'http://127.0.0.1:3000/img/product/hot_5.jpg',\n        name: 'fromage semi-fermenté original',\n        price: '1盒/48RMB'\n      }]\n    };\n  },\n  methods: {\n    delPro: function delPro(lid) {\n      var _this = this;\n\n      var uid = window.sessionStorage.getItem(\"userId\");\n      var url = \"http://127.0.0.1:3000/shopp/del?uid=\" + uid + \"&lid=\" + lid;\n      this.axios.get(url).then(function (res) {\n        _this.shopp_load();\n      });\n    },\n    recount: function recount(num, lid, count) {\n      var _this2 = this;\n\n      if (count > 1 || num == 1) {\n        var uid = window.sessionStorage.getItem(\"userId\"); //console.log(num,lid);\n\n        var url = \"http://127.0.0.1:3000/shopp/recount?num=\" + num + \"&uid=\" + uid + \"&lid=\" + lid;\n        this.axios.get(url).then(function (res) {\n          _this2.shopp_load();\n        });\n      }\n    },\n    subtotal: function subtotal(p, c) {\n      return p * c;\n    },\n    shopp_load: function shopp_load() {\n      var _this3 = this;\n\n      var uid = window.sessionStorage.getItem(\"userId\"); //console.log(uid);\n\n      var url = \"http://127.0.0.1:3000/shopp?uid=\" + uid;\n      this.axios.get(url).then(function (res) {\n        console.log(res);\n        _this3.pro_list = res.data.pro_list;\n        _this3.pro_sum = res.data.pro_sum;\n        _this3.pro_counts = res.data.pro_count;\n      });\n    }\n  },\n  created: function created() {\n    this.shopp_load();\n  },\n  conputed: {}\n};",{"version":3,"sources":["ShoppCar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,eAAA,KADA;AAEA,gBAAA,EAFA;AAGA,eAAA,CAHA;AAIA,kBAAA,CAJA;AAKA,gBAAA,CACA;AAAA,aAAA,6CAAA;AAAA,cAAA,cAAA;AAAA,eAAA;AAAA,OADA,EAEA;AAAA,aAAA,6CAAA;AAAA,cAAA,sBAAA;AAAA,eAAA;AAAA,OAFA,EAGA;AAAA,aAAA,6CAAA;AAAA,cAAA,eAAA;AAAA,eAAA;AAAA,OAHA,EAIA;AAAA,aAAA,6CAAA;AAAA,cAAA,iBAAA;AAAA,eAAA;AAAA,OAJA,EAKA;AAAA,aAAA,6CAAA;AAAA,cAAA,gCAAA;AAAA,eAAA;AAAA,OALA;AALA,KAAA;AAaA,GAfA;AAgBA,WAAA;AACA,UADA,kBACA,GADA,EACA;AAAA;;AACA,UAAA,MAAA,OAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,UAAA,MAAA,yCAAA,GAAA,GAAA,OAAA,GAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,UAAA;AACA,OAFA;AAIA,KARA;AASA,WATA,mBASA,GATA,EASA,GATA,EASA,KATA,EASA;AAAA;;AACA,UAAA,QAAA,CAAA,IAAA,OAAA,CAAA,EAAA;AACA,YAAA,MAAA,OAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CADA,CAEA;;AACA,YAAA,MAAA,6CAAA,GAAA,GAAA,OAAA,GAAA,GAAA,GAAA,OAAA,GAAA,GAAA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,iBAAA,UAAA;AACA,SAFA;AAGA;AACA,KAlBA;AAmBA,YAnBA,oBAmBA,CAnBA,EAmBA,CAnBA,EAmBA;AACA,aAAA,IAAA,CAAA;AACA,KArBA;AAsBA,cAtBA,wBAsBA;AAAA;;AACA,UAAA,MAAA,OAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CADA,CAEA;;AACA,UAAA,MAAA,qCAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,GAAA;AACA,eAAA,QAAA,GAAA,IAAA,IAAA,CAAA,QAAA;AACA,eAAA,OAAA,GAAA,IAAA,IAAA,CAAA,OAAA;AACA,eAAA,UAAA,GAAA,IAAA,IAAA,CAAA,SAAA;AACA,OALA;AAMA;AAhCA,GAhBA;AAkDA,SAlDA,qBAkDA;AACA,SAAA,UAAA;AACA,GApDA;AAqDA,YAAA;AArDA,CAAA","sourcesContent":["<template>\r\n    <div class=\"app-shoppCar\" v-snowflake>\r\n        <canvas id=\"canvas\" ></canvas>\r\n        <div class=\"shopp_top\"></div>\r\n        <div class=\"shopp_mid\"><img src=\"http://127.0.0.1:3000/img/shoppingCar/shopp_tit.png\" alt=\"\"></div>\r\n        <div class=\"shopp_box\"> \r\n            <div class=\"shopp_tab\">\r\n                <ul class=\"product_th pro_th_bg\" >\r\n                    <li class=\"pro_100\"> <el-checkbox v-model=\"checked\" label=\"全选\" border></el-checkbox></li>\r\n                    <li class=\"pro_300\">商品</li>\r\n                    <li class=\"pro_100\">单价</li>\r\n                    <li class=\"pro_200\">数量</li>\r\n                    <li class=\"pro_100\">小计</li>\r\n                    <li class=\"pro_100\">操作</li>\r\n                </ul>  \r\n                <ul class=\"product_th pro_cent\" v-for=\"item in pro_list\" :key=\"item.id\">\r\n                    <li class=\"pro_100\"><el-checkbox v-model=\"checked\"></el-checkbox></li>\r\n                    <li class=\"pro_300\">{{item.lname}}</li>\r\n                    <li class=\"pro_100 \" >￥{{item.price}}元</li>\r\n                    <li class=\"pro_200\"> \r\n                        <input type=\"button\" value=\"-\" class=\"shp_inp\" @click=\"recount(-1,item.lid,item.count)\">\r\n                        <div>{{item.count}}</div>\r\n                        <input type=\"button\" value=\"+\" class=\"shp_inp\" @click=\"recount(1,item.lid,item.count)\">\r\n                    </li>\r\n                    <li class=\"pro_100 price\">￥{{subtotal(item.price,item.count)}}元</li>\r\n                    <li class=\"pro_100\"><img src=\"http://127.0.0.1:3000/img/shoppingCar/del.png\" alt=\"\" class=\"del_img\" @click=\"delPro(item.lid)\"></li>\r\n                </ul>\r\n                <div class=\"account\">\r\n                    <div class=\"act_box\">\r\n                        <div>共 {{pro_counts}} 件商品， 合计 : ￥{{parseInt(pro_sum).toFixed(2)}}</div>\r\n                        <div><a href=\"\" class=\"act_btn\">立即结算</a></div>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n            <div class=\"recommend\">购买该商品的用户还购买了</div>\r\n            <div class=\"list_box\">\r\n                <ul class=\"image-grid\">\r\n                    <li v-for=\"(item,i) in hot_list\" :key=\"i\">\r\n                        <div class=\"proHot_box\" >\r\n                            <a href=\"\"><img :src=\"item.src\" alt=\"\"></a>\r\n                        </div>\r\n                        <div class=\"proHot_title\">\r\n                            <span>{{item.name}}</span>\r\n                            <span>{{item.price}}</span>\r\n                        </div>\r\n                    </li>\r\n                    \r\n                </ul>\r\n            </div> \r\n        </div>\r\n    </div>\r\n</template>\r\n<style scoped>\r\n/* 雪花 */\r\n#canvas{\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    z-index:10;\r\n    height:500px;\r\n    width:100%;\r\n}\r\n/* 推荐商品字体 */\r\n.recommend{\r\n    font-size:30px;     \r\n    margin-top: 22px;\r\n    margin-bottom: 31px;\r\n    text-align: center;\r\n    color: #a3afb7\r\n}\r\n.shp_inp{\r\n    width:1.5rem;\r\n    margin:.5rem;\r\n    background:#F3F7F9;\r\n    border:0;\r\n    font-size: 20px;\r\n    \r\n\r\n}\r\n/* 热门排行商品 */\r\n.hot_box{\r\n    margin: auto;\r\n    padding-bottom: 10px;\r\n    max-width: 71pc;\r\n    border-bottom: 1px solid #ccc;\r\n    text-align: center\r\n}\r\n.hot_box span{\r\n    font-size: 14px;\r\n}\r\n.list_box{\r\n    width: 849pt;\r\n    margin: auto;\r\n    margin-bottom: 3rem;\r\n}\r\n.image-grid{\r\n    width:100%;\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.image-grid li{\r\n    width:19%;\r\n    \r\n}\r\n.proHot_title{\r\n    text-align: center\r\n}\r\n.proHot_title span{\r\n    display: block;\r\n    font-size: 12px;\r\n}\r\n/* 通用属性 */\r\nul{\r\n    list-style: none;\r\n}\r\n.pro_100{\r\n    width:100px; \r\n    padding:1rem;\r\n}\r\n.pro_200{\r\n    width:200px;\r\n    padding:1rem;\r\n}\r\n.pro_300{\r\n    width:300px;\r\n    padding:1rem;\r\n}\r\n.del_img{\r\n    width:30%;\r\n    cursor: pointer;\r\n}\r\n.price{\r\n    color:#f96868 !important;\r\n}\r\n.pro_cent>li{\r\n    font-weight: normal !important;\r\n}\r\n/* 购物车结算 */\r\n.account{\r\n    margin-top: 5rem;\r\n    width:100%;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 5rem;\r\n}\r\n\r\n.act_box{\r\n    width:500px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n}\r\n.act_btn{\r\n    display: block;\r\n    width:100px;\r\n    background:#f96868;\r\n    color:#fff;\r\n    text-align: center;\r\n    padding:1rem .5rem; \r\n    text-decoration: none;     \r\n}\r\n/* 购物车内容表格 */\r\n.shopp_box{\r\n    width:100%;\r\n    height:auto;\r\n    margin: 0 auto;\r\n}\r\n.shopp_tab{\r\n    width:1000px;\r\n    margin: 0 auto;\r\n}\r\n.product_th{\r\n    width:100%;\r\n    display:flex;\r\n    justify-content: flex-start;\r\n}\r\n.pro_th_bg{\r\n    background: #F3F7F9;\r\n}\r\n.product_th>li{\r\n    color: #526069;\r\n    font-weight: bold;\r\n    font-size:18px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n/* 头部两张图片 */\r\n.shopp_top{\r\n    width:100%;\r\n    height:300px;\r\n    background-image: url(http://127.0.0.1:3000/img/shoppingCar/shopp_top.png);\r\n    background-repeat: no-repeat;\r\n    background-size: 100%;\r\n    background-position-y: 50%;\r\n}\r\n.shopp_mid{\r\n    text-align: center;\r\n    padding-bottom: 2rem;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            checked:false,\r\n            pro_list:[],\r\n            pro_sum:0,\r\n            pro_counts:0,\r\n            hot_list:[\r\n                    {src:'http://127.0.0.1:3000/img/product/hot_1.jpg',name:'Velour rouge',price:'2磅/298RMB'},\r\n                    {src:'http://127.0.0.1:3000/img/product/hot_2.jpg',name:'Napoléon aux fraises',price:'2磅/318RMB'},\r\n                    {src:'http://127.0.0.1:3000/img/product/hot_3.jpg',name:'lapin détendu',price:'2.5磅/318RMB'},\r\n                    {src:'http://127.0.0.1:3000/img/product/hot_4.jpg',name:'Voyage de Daisy',price:'2.5磅/318RMB'},\r\n                    {src:'http://127.0.0.1:3000/img/product/hot_5.jpg',name:'fromage semi-fermenté original',price:'1盒/48RMB'},\r\n                ]\r\n        }\r\n    },\r\n    methods: {\r\n        delPro(lid){\r\n            var uid=window.sessionStorage.getItem(\"userId\");\r\n            var url=\"http://127.0.0.1:3000/shopp/del?uid=\"+uid+\"&lid=\"+lid;\r\n                this.axios.get(url).then((res)=>{\r\n                    this.shopp_load()\r\n            })\r\n\r\n        },\r\n        recount(num,lid,count){\r\n            if(count>1||num==1){\r\n                var uid=window.sessionStorage.getItem(\"userId\");\r\n                //console.log(num,lid);\r\n                var url=\"http://127.0.0.1:3000/shopp/recount?num=\"+num+\"&uid=\"+uid+\"&lid=\"+lid;\r\n                this.axios.get(url).then((res)=>{\r\n                    this.shopp_load()\r\n                })\r\n            }\r\n        },\r\n        subtotal(p,c){\r\n            return p*c;\r\n        },\r\n        shopp_load(){\r\n            var uid=window.sessionStorage.getItem(\"userId\");\r\n            //console.log(uid);\r\n            var url=\"http://127.0.0.1:3000/shopp?uid=\"+uid;\r\n            this.axios.get(url).then((res)=>{\r\n                console.log(res);\r\n                this.pro_list=res.data.pro_list;\r\n                this.pro_sum=res.data.pro_sum;\r\n                this.pro_counts=res.data.pro_count;\r\n            })\r\n        }\r\n    },\r\n    created(){\r\n        this.shopp_load();\r\n    },\r\n    conputed: {\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n\r\n"],"sourceRoot":"src\\components"}]}